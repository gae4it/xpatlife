---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import Content from '~/components/widgets/Content.astro';
import InstallPrompt from '~/components/common/InstallPrompt.astro';

const metadata = {
  title: 'xPatLife App - Install as App',
  description:
    'Install xPatLife as a mobile app on your device. Fast, lightweight, and always accessible. Compatible with Android and iOS.',
};
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <Hero
    tagline="Always at Your Fingertips"
    title="xPatLife App"
    subtitle="Install xPatLife on your home screen for quick access whenever you need it"
    actions={[
      {
        variant: 'primary',
        text: 'Install App',
        href: '#installation-guide',
        icon: 'tabler:download',
      },
      { text: 'Discover More', href: '#discover-more' },
    ]}
  />

  <!-- Features Section -->
  <div id="discover-more"></div>
  <Content
    title="Why Install as App?"
    subtitle="Get the best experience on your device"
    image={{
      src: 'https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?q=80&w=1740&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
      alt: 'Hand holding smartphone with apps',
    }}
    items={[
      {
        title: 'Instant Access',
        description: 'Launch directly from your home screen - no need to open a browser',
        icon: 'tabler:rocket',
      },
      {
        title: 'Full Screen Experience',
        description: 'Enjoy the app without browser navigation bars or toolbars',
        icon: 'tabler:maximize',
      },
      {
        title: 'Lightning Fast',
        description: 'Apps load instantly after the first visit - optimized for speed',
        icon: 'tabler:bolt',
      },
      {
        title: 'Always Available',
        description: 'Even without internet, your previously viewed content remains accessible',
        icon: 'tabler:wifi-off',
      },
      {
        title: 'Native Feel',
        description: 'Behaves like a regular app with smooth animations and native performance',
        icon: 'tabler:app-window',
      },
      {
        title: 'Lightweight',
        description: 'Minimal data usage - no bloat, just what you need',
        icon: 'tabler:feather',
      },
    ]}
  >
    <Fragment slot="content">
      <p class="text-lg text-muted dark:text-slate-400 mb-6">
        Installing xPatLife as an app gives you the convenience of native mobile applications with all the information
        you need about living in Germany.
      </p>
    </Fragment>
  </Content>

  <!-- Platform-Specific Guide -->
  <section id="installation-guide" class="px-4 py-0 sm:px-6 mx-auto lg:px-8 lg:py-0 max-w-4xl">
    <div class="prose prose-lg dark:prose-invert mx-auto">
      <h2 class="text-3xl font-bold mb-8">Installation Guide by Platform</h2>

      <div class="grid md:grid-cols-2 gap-8 mb-4 not-prose">
        <!-- Android Guide -->
        <div class="bg-slate-50 dark:bg-slate-800 rounded-lg p-8">
          <div class="flex items-center gap-3 mb-6">
            <svg class="w-8 h-8 text-green-600" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85-.29-.15-.65-.06-.83.22l-1.88 3.24a11.46 11.46 0 0 0-8.94 0L5.65 5.67c-.19-.28-.54-.37-.83-.22-.3.16-.42.54-.26.85l1.84 3.18C2.92 12.13 1.3 16.51 1 21h22c-.3-4.49-1.92-8.87-5.4-11.52M7 17.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25m10 0c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25"
              ></path>
            </svg>
            <h3 class="text-xl font-bold text-slate-900 dark:text-slate-100 m-0">Android</h3>
          </div>
          <ol class="space-y-3 text-slate-700 dark:text-slate-300 text-sm">
            <li>
              <strong class="text-slate-900 dark:text-slate-100">Method 1:</strong> Look for the install prompt at the bottom
              of the screen and tap "Install"
            </li>
            <li>
              <strong class="text-slate-900 dark:text-slate-100">Method 2:</strong> Tap the three-dot menu â†’ "Install app"
              or "Add to Home screen"
            </li>
            <li>Confirm the app name and tap the install button</li>
            <li>The app will appear on your home screen immediately</li>
          </ol>
        </div>

        <!-- iOS Guide -->
        <div class="bg-slate-50 dark:bg-slate-800 rounded-lg p-8">
          <div class="flex items-center gap-3 mb-6">
            <svg class="w-8 h-8 text-gray-800 dark:text-white" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01M12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25"
              ></path>
            </svg>
            <h3 class="text-xl font-bold text-slate-900 dark:text-slate-100 m-0">iOS (Safari)</h3>
          </div>
          <ol class="space-y-3 text-slate-700 dark:text-slate-300 text-sm">
            <li>Make sure you're using Safari browser</li>
            <li>Tap the Share button (square with arrow) at the bottom</li>
            <li>Scroll and tap "Add to Home Screen"</li>
            <li>Enter a name for the app (or keep the default)</li>
            <li>Tap "Add" and the app will appear on your home screen</li>
          </ol>
        </div>
      </div>
    </div>
  </section>

  <!-- Installation Section -->
  <section id="install-prompt" class="px-4 py-0 sm:px-6 mx-auto lg:px-8 lg:py-0 max-w-4xl">
    <InstallPrompt />
  </section>

  <!-- FAQ Section -->
  <section class="px-4 py-8 sm:px-6 mx-auto lg:px-8 lg:pb-16 max-w-4xl">
    <div class="prose prose-lg dark:prose-invert mx-auto">
      <h3 class="text-2xl font-bold mt-12 mb-4">Frequently Asked Questions</h3>

      <details
        class="mb-4 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 p-4 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-900/70 transition-colors"
      >
        <summary class="font-semibold text-slate-900 dark:text-slate-100">Is this a real app or just a website?</summary
        >
        <p class="mt-3 text-sm text-slate-700 dark:text-slate-400">
          It's a web app - a smart middle ground between a traditional website and a native mobile app. You get all the
          convenience of an app without the bulk of a native installation.
        </p>
      </details>

      <details
        class="mb-4 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 p-4 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-900/70 transition-colors"
      >
        <summary class="font-semibold text-slate-900 dark:text-slate-100">Will it work offline?</summary>
        <p class="mt-3 text-sm text-slate-700 dark:text-slate-400">
          The app is optimized for fast loading. Previously visited pages are cached, so you can browse your recent
          content even without internet. Some interactive features may require a connection.
        </p>
      </details>

      <details
        class="mb-4 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 p-4 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-900/70 transition-colors"
      >
        <summary class="font-semibold text-slate-900 dark:text-slate-100">Can I uninstall it?</summary>
        <p class="mt-3 text-sm text-slate-700 dark:text-slate-400">
          Yes, it's as simple as uninstalling any app. Long-press the app icon and select "Uninstall" or "Remove from
          Home Screen."
        </p>
      </details>

      <details
        class="mb-4 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 p-4 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-900/70 transition-colors"
      >
        <summary class="font-semibold text-slate-900 dark:text-slate-100">Does it use a lot of storage?</summary>
        <p class="mt-3 text-sm text-slate-700 dark:text-slate-400">
          No, it's very lightweight. It only takes up minimal space on your device - much less than a traditional app.
        </p>
      </details>

      <details
        class="mb-4 bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 p-4 rounded-lg cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-900/70 transition-colors"
      >
        <summary class="font-semibold text-slate-900 dark:text-slate-100">Will I get updates automatically?</summary>
        <p class="mt-3 text-sm text-slate-700 dark:text-slate-400">
          Yes, you'll always get the latest version when you open the app, as long as you have an internet connection.
        </p>
      </details>
    </div>
  </section>
</Layout>
